# üåê AirTrace RU Web Interface

–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ FastAPI/Jinja2 –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –≤–æ–∑–¥—É—Ö–∞, –ø–æ—á–∞—Å–æ–≤–æ–≥–æ –ø—Ä–æ–≥–Ω–æ–∑–∞ –∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞–ø—É—Å–∫ backend API (–∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞)
```bash
uvicorn main:app --reload --port 8000
```

### 2. –ó–∞–ø—É—Å–∫ web-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
```bash
cd web
python web_app.py
```

### 3. –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
`http://localhost:3000`

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –¢–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ AQI –∏ –∑–∞–≥—Ä—è–∑–Ω–∏—Ç–µ–ª–µ–π –¥–ª—è –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤.
- –ü–æ—á–∞—Å–æ–≤–æ–π –ø—Ä–æ–≥–Ω–æ–∑ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∞–π–º—Å–µ—Ä–∏–∏ –Ω–∞ 24/48/72/168 —á–∞—Å–æ–≤.
- –í–≤–æ–¥ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç (–¥–µ—Å—è—Ç–∏—á–Ω—ã–π, DMS, —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç).
- –≠–∫—Å–ø–æ—Ä—Ç –ø–æ—á–∞—Å–æ–≤–æ–≥–æ –ø—Ä–æ–≥–Ω–æ–∑–∞ –≤ CSV/JSON.
- –ù–ú–£-–æ—Ü–µ–Ω–∫–∞ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.
- Privacy-first: –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è.

## üîå Web API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –°–µ—Ä–≤–∏—Å–Ω—ã–µ
- `GET /api/health` - —Å–æ—Å—Ç–æ—è–Ω–∏–µ web-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ backend API.

### –¢–∞–π–º—Å–µ—Ä–∏–∏ –ø—Ä–æ–≥–Ω–æ–∑–∞
- `GET /api/timeseries/{city_key}?hours=24`
- `GET /api/timeseries-custom?lat=55.75&lon=37.62&city_name=–ú–æ—Å–∫–≤–∞&hours=24`
- `hours`: –æ—Ç `1` –¥–æ `168`.

### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å (legacy aliases)
- `GET /api/historical/{city_key}`
- `GET /api/historical-custom`

–ú–∞—Ä—à—Ä—É—Ç—ã `historical*` —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏, –Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Ç–µ –∂–µ –ø—Ä–æ–≥–Ω–æ–∑–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, —á—Ç–æ –∏ `timeseries*`.

### –≠–∫—Å–ø–æ—Ä—Ç
- `GET /export/{city_key}?format=csv&hours=24`
- `GET /export-custom?lat=55.75&lon=37.62&city_name=–ú–æ—Å–∫–≤–∞&format=json&hours=48`
- `format`: `csv` –∏–ª–∏ `json`.
- `hours`: –æ—Ç `1` –¥–æ `168`.

## üì¶ –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ —Ç–∞–π–º—Å–µ—Ä–∏–π

–ö–ª—é—á–µ–≤—ã–µ –ø–æ–ª—è:
- `source`: `forecast`
- `period_hours_requested`: —Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤ –∑–∞–ø—Ä–æ—à–µ–Ω–æ
- `period_hours_available`: —Å–∫–æ–ª—å–∫–æ —Ç–æ—á–µ–∫ —Ä–µ–∞–ª—å–Ω–æ –¥–æ—Å—Ç—É–ø–Ω–æ
- `data_points`: —á–∏—Å–ª–æ —Ç–æ—á–µ–∫
- `data`: –º–∞—Å—Å–∏–≤ –ø–æ—á–∞—Å–æ–≤—ã—Ö —Ç–æ—á–µ–∫ –ø—Ä–æ–≥–Ω–æ–∑–∞

## ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏

- –¢–∞–π–º—Å–µ—Ä–∏–∏ –∏ —ç–∫—Å–ø–æ—Ä—Ç –≤ web-—Å–ª–æ–µ –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ –ø—Ä–æ–≥–Ω–æ–∑–µ, –∞ –Ω–µ –Ω–∞ –∞—Ä—Ö–∏–≤–µ –∏–∑–º–µ—Ä–µ–Ω–∏–π.
- –î–æ—Å—Ç—É–ø–Ω—ã–π –≥–æ—Ä–∏–∑–æ–Ω—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–º –ø—Ä–æ–≥–Ω–æ–∑–æ–º –≤–Ω–µ—à–Ω–µ–≥–æ API.
- –í—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –¥–æ–ª–≥–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –Ω–∞–±–ª—é–¥–µ–Ω–∏–π –Ω–µ—Ç.

## üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

- –ë–∞–∑–æ–≤—ã–π URL backend –∑–∞–¥–∞–µ—Ç—Å—è –≤ `web/web_app.py` —á–µ—Ä–µ–∑ `API_BASE_URL`.
- –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≥–æ—Ä–æ–¥–∞ –æ–±–Ω–æ–≤–∏—Ç–µ —Å–ª–æ–≤–∞—Ä—å `CITIES` –≤ `web/web_app.py`.

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

- –ï—Å–ª–∏ web –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `python web_app.py` –∑–∞–ø—É—â–µ–Ω –≤ `web/`.
- –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ –≥—Ä—É–∑—è—Ç—Å—è: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å `http://localhost:8000/health`.
- –ï—Å–ª–∏ —ç–∫—Å–ø–æ—Ä—Ç –ø—É—Å—Ç–æ–π: –≤–Ω–µ—à–Ω–∏–π API –º–æ–≥ –≤–µ—Ä–Ω—É—Ç—å –º–µ–Ω—å—à–µ –ø—Ä–æ–≥–Ω–æ–∑–Ω—ã—Ö —Ç–æ—á–µ–∫, —á–µ–º –∑–∞–ø—Ä–æ—à–µ–Ω–æ.

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ß–∞—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞ AirTrace RU. –õ–∏—Ü–µ–Ω–∑–∏—è: MIT.
